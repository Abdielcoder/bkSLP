<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <title>Tu Taxi | Admins</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="../js/dom/local.js"></script>
    <link rel="stylesheet" href="./assets/css/tadi/tadi.css" />
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./assets/css/now-ui-dashboard.css" />
  </head>

  <body>
    <div id="app-vehicles">
      <div class="main-panel" id="main-panel">
        <!--Side-Panel-->
        <div class="sidebar" data-color="orange">
          <div class="logo">
            <a href="#" class="simple-text logo-mini link-home"> TADI </a>
            <a href="#" class="simple-text logo-normal link-home">
              Taximetro Digital
            </a>
          </div>
          <div class="sidebar-wrapper" id="sidebar-wrapper">
            <ul class="nav">
              <li>
                <a data-link="roles" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/roles.svg"
                    style="margin-right: 1rem"
                    alt="Roles"
                  />Roles</a
                >
              </li>
              <li>
                <a data-link="usuarios" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/usuarios.svg"
                    style="margin-right: 1rem"
                    alt="Usuarios"
                  />Conductores</a
                >
              </li>
              <li>
                <a data-link="clients" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/usuarios.svg"
                    style="margin-right: 1rem"
                    alt="Clientes"
                  />Clientes</a
                >
              </li>
              <li>
                <a data-link="mensajes" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/mensaje.svg"
                    style="margin-right: 1rem"
                    alt="Mensajes"
                  />Mensajes</a
                >
              </li>
              <li>
                <a data-link="estado" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/estado.svg"
                    style="margin-right: 1rem"
                    alt="Estado-Ciudad-Area"
                  />Estado-Ciudad-Area</a
                >
              </li>
              <li>
                <a data-link="tarifas_base" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/tarifa.svg"
                    style="margin-right: 1rem"
                    alt="Tarifa Básica"
                  />Tarifa Básica</a
                >
              </li>
              <li>
                <a data-link="tarifas" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/tarifa.svg"
                    style="margin-right: 1rem"
                    alt="Tarifas"
                  />Tarifas</a
                >
              </li>
              <li>
                <a data-link="promociones" href="#" onclick="goToRef(this)"
                  ><img
                    src="./assets/img/promo.svg"
                    style="margin-right: 1rem"
                    alt="Promociones"
                  />Promociones</a
                >
              </li>
            </ul>
          </div>
        </div>
        <!--Navbar-->
        <nav
          class="navbar navbar-expand-lg navbar-transparent bg-primary navbar-absolute"
        >
          <div class="container-fluid">
            <div class="navbar-wrapper">
              <div class="navbar-toggle">
                <button type="button" class="navbar-toggler">
                  <span class="navbar-toggler-bar bar1"></span>
                  <span class="navbar-toggler-bar bar2"></span>
                  <span class="navbar-toggler-bar bar3"></span>
                </button>
              </div>
              <p class="navbar-brand">Tu taxi- Portal de Administración</p>
            </div>
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navigation"
              aria-controls="navigation-index"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-bar navbar-kebab"></span>
              <span class="navbar-toggler-bar navbar-kebab"></span>
              <span class="navbar-toggler-bar navbar-kebab"></span>
            </button>
            <div
              class="collapse navbar-collapse justify-content-end"
              id="navigation"
            >
              <ul class="navbar-nav">
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    id="navbarDropdownMenuLink"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    <i class="now-ui-icons ui-1_settings-gear-63"></i>
                    <p>
                      <span class="d-lg-none d-md-block">Preferencias</span>
                    </p>
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-right"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                    <a class="dropdown-item" href="#">Configuración 1</a>
                    <a class="dropdown-item" href="#">Configuración 2</a>
                    <a class="dropdown-item" href="#">Configuración 3</a>
                    <a class="dropdown-item" href="#">Configuración 4</a>
                  </div>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <i class="now-ui-icons users_single-02"></i>
                    <p id="usuario">
                      <span class="d-lg-none d-md-block">Account</span>
                    </p>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">
                    <i class="now-ui-icons media-1_button-power"></i>
                    <p id="opSalirApp" onclick="removeSession();">
                      Cerrar Sesión
                    </p>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <div class="panel-header panel-header-sm">
          <div class="col-sm-6 dashboard-bg"></div>
        </div>
        <!-- <iframe id="frame-container" src="/a/usuarios.html" name="tadi_cuerpo_det" allowfullscreen=""></iframe> -->
        <div class="content">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-header"></div>
                <div class="card-body">
                  <div class="table-responsive" id="main-container">
                    <iframe
                      id="frame-container"
                      src="/admin/usuarios.html"
                      name="tadi_cuerpo_det"
                      allowfullscreen=""
                    ></iframe>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
      <footer>
        <p id="copyrightFooter"></p>
      </footer>
      </div>

      <!-- <span class="title-container">Administración</span>      
    <hr>
    <label class="label-radio-option" for="button-roles"> <input type="radio" class="radio-button-option" name="radioButton" id="button-roles" onclick="window.frames.tadi_cuerpo_det.location='/a/roles.html';"> Roles </label>       
    <label class="label-radio-option" for="button-usuarios"> <input type="radio" class="radio-button-option" name="radioButton" id="button-usuarios" checked onclick="window.frames.tadi_cuerpo_det.location='/a/usuarios.html';"> Usuarios-Vehiculos </label>       
    <label class="label-radio-option" for="button-mensajes"> <input type="radio" class="radio-button-option" name="radioButton" id="button-mensajes" onclick="window.frames.tadi_cuerpo_det.location='/a/mensajes.html';"> Mensajes </label>     
    <label class="label-radio-option" for="button-ciudad"> <input type="radio" class="radio-button-option" name="radioButton" id="button-ciudad" onclick="window.frames.tadi_cuerpo_det.location='/a/estado.html';"> Estado-Ciudad-Area </label>
    <label class="label-radio-option" for="button-tarifabase"> <input type="radio" class="radio-button-option" name="radioButton" id="button-tarifabase" onclick="window.frames.tadi_cuerpo_det.location='/a/tarifas_base.html';"> Tarifa basica </label>
    <label class="label-radio-option" for="button-tarifas"> <input type="radio" class="radio-button-option" name="radioButton" id="button-tarifas" onclick="window.frames.tadi_cuerpo_det.location='/a/tarifas.html';"> Tarifas </label>    
    <label class="label-radio-option" for="button-promo"> <input disabled type="radio" class="radio-button-option" name="radioButton" id="button-promo" onclick="window.frames.tadi_cuerpo_det.location='/a/promociones.html';"> Promociones </label> -->
      <!-- <div class="main-container">
      <div class="bs-example col-sm-12" data-example-id="responsive-embed-16by9-iframe-youtube">
        <div class="embed-responsive embed-responsive-16by9"> -->

      <!-- </div>
      </div>
    </div> -->
    </div>
  </body>
  <script src="../js/global-context.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-analytics.js"></script>
  <script type="module" src="../js/dom/defaults.js"></script>
  <script type="text/javascript" src="js/firebase.js"></script>
  <script type="text/javascript" src="js/tadi.js"></script>
  <script>
    validaSession();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    onloadPage = () => {
      const uid = getUrlIdentity();
      var currDate = new Date();

      if (
        localStorage.sessionTime === undefined ||
        currDate - new Date(localStorage.sessionTime) > 900000 ||
        uid === undefined
      ) {
        localStorage.clear();
        firebase.auth().signOut();
        top.location.replace("index.html");
      } else {
        localStorage.sessionTime = currDate;
        document.querySelectorAll(".link-home").forEach((e) => {
          e.setAttribute("href", "tadi_inicio.html?user=" + uid);
        });
      }
    };

    getUrlIdentity = () => {
      const windowurl = window.location.href;
      const id = windowurl.split("?")[1];
      if (id === undefined) return undefined;
      return id.split("=")[1];
    };

    goToRef = (i) => {
      const frame = document.getElementById("frame-container");
      const url = i.getAttribute("data-link");
      frame.setAttribute("src", "./admin/" + url + ".html");
    };

    onloadPage();
  </script>
</html>
